<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>3aa259bf-8105-45dc-bc40-9dd4cee93d78.html</title>
<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>

<style>
body {
    background-color: #1e1e1e;
    color: white;
    font-family: monospace;
    padding: 15px;
}

.editor {
    display: flex;
    border: 1px solid #444;
    height: 300px;
    font-family: monospace;
}

#lineNumbers {
    background: #111;
    color: #00ff00;
    padding: 10px 8px;
    margin: 0;
    text-align: right;
    user-select: none;
    overflow: hidden;
    white-space: pre;
    line-height: 1.4em;
}

#code {
    flex: 1;
    background: #111;
    color: white;
    border: none;
    padding: 10px;
    resize: none;
    overflow: auto;
    white-space: pre;
    line-height: 1.4em;
    font-family: monospace;
}

button {
    margin-top: 10px;
    margin-right: 6px;
    padding: 8px 14px;
    background: #007acc;
    color: white;
    border: none;
    cursor: pointer;
}

#output {
    background: #111;
    padding: 10px;
    margin-top: 10px;
    min-height: 50px;
    white-space: pre-wrap;
}

#plot {
    margin-top: 10px;
    border: 1px solid #555;
    max-width: 100%;
}
</style>
</head>

<body>

<h3>3aa259bf-8105-45dc-bc40-9dd4cee93d78.html</h3>

<div class="editor">
<pre id="lineNumbers"></pre>
<textarea id="code" wrap="off">import matplotlib.pyplot as plt

import matplotlib
matplotlib.use("Agg")

plt.rcParams.update({
    'figure.facecolor': 'white',
    'axes.facecolor': 'white',
    'axes.labelsize': 12,
    'axes.titlesize': 14,
    'axes.linewidth': 1.2,
    'xtick.labelsize': 10,
    'ytick.labelsize': 10
})


# Constants
initial_velocity = 0  # m/s
acceleration_1 = 1  # m/s^2
acceleration_2 = 0  # m/s^2 (between 3rd and 5th second)
acceleration_3 = -1  # m/s^2 (from 5th second onward)
time_interval = 0.1  # seconds
total_time = 8  # seconds

# Variables
time = 0
velocity = initial_velocity
distance = 0

# Lists to store data for plotting
time_values = []
distance_values = []
velocity_values = []
acceleration_values = []

# Simulation loop
while time <= total_time:
    time_values.append(time)
    distance_values.append(distance)
    velocity_values.append(velocity)
    
    if time < 3:
        acceleration = acceleration_1
    elif time < 5:
        acceleration = acceleration_2
    else:
        acceleration = acceleration_3
    
    acceleration_values.append(acceleration)
    distance += velocity * time_interval + 0.5 * acceleration * (time_interval ** 2)
    velocity += acceleration * time_interval
    time += time_interval

# Plotting the graphs
plt.figure(figsize=(12, 8))

# Plotting Distance vs. Time
plt.subplot(2, 2, 1)
plt.plot(time_values, distance_values, label='Distance vs. Time')
plt.axvline(x=3, color='r', linestyle='--', label='Zero Acceleration')
plt.axvline(x=5, color='r', linestyle='--')
plt.axvline(x=5, color='g', linestyle='--', label='Negative Acceleration')
plt.xlabel('Time (seconds)')
plt.ylabel('Distance (meters)')
plt.title('Projectile Motion')
plt.legend()
plt.grid(True)

# Plotting Speed (Velocity) vs. Time
plt.subplot(2, 2, 2)
plt.plot(time_values, velocity_values, label='Speed (Velocity) vs. Time')
plt.axvline(x=3, color='r', linestyle='--', label='Zero Acceleration')
plt.axvline(x=5, color='r', linestyle='--')
plt.axvline(x=5, color='g', linestyle='--', label='Negative Acceleration')
plt.xlabel('Time (seconds)')
plt.ylabel('Speed (m/s)')
plt.title('Projectile Motion')
plt.legend()
plt.grid(True)

# Plotting Acceleration vs. Time
plt.subplot(2, 2, 3)
plt.plot(time_values, acceleration_values, label='Acceleration vs. Time')
plt.axvline(x=3, color='r', linestyle='--', label='Zero Acceleration')
plt.axvline(x=5, color='r', linestyle='--')
plt.axvline(x=5, color='g', linestyle='--', label='Negative Acceleration')
plt.xlabel('Time (seconds)')
plt.ylabel('Acceleration (m/s^2)')
plt.title('Projectile Motion')
plt.legend()
plt.grid(True)

plt.tight_layout()


print(f"Final distance traveled in {total_time} seconds: {distance:.2f} meters")

plt.tight_layout()
plt.savefig("plot.png")
plt.savefig("plot.pdf")
plt.savefig("plot.svg")
</textarea>
</div>

<button onclick="runCode()">Run</button>
<button onclick="downloadPlot('png')">Download PNG</button>
<button onclick="downloadPlot('pdf')">Download PDF</button>
<button onclick="downloadPlot('svg')">Download SVG</button>

<div id="output"></div>
<img id="plot"/>

<script>
let pyodideReady = loadPyodide();
let pyodide;

const code = document.getElementById("code");
const lineNumbers = document.getElementById("lineNumbers");

function updateLineNumbers() {
    const lines = code.value.split("\n").length;
    let numbers = "";
    for (let i = 1; i <= lines; i++) {
        numbers += i + "\n";
    }
    lineNumbers.textContent = numbers;
}

code.addEventListener("input", updateLineNumbers);
code.addEventListener("scroll", () => {
    lineNumbers.scrollTop = code.scrollTop;
});

updateLineNumbers();

async function runCode() {
    pyodide = await pyodideReady;

    document.getElementById("output").innerText = "Running...";
    document.getElementById("plot").src = "";

    await pyodide.loadPackage(["numpy","matplotlib","sympy"]);

    try {
        await pyodide.runPythonAsync(`
import sys
from io import StringIO
sys.stdout = StringIO()
`);

        await pyodide.runPythonAsync(code.value);

        let output = await pyodide.runPythonAsync("sys.stdout.getvalue()");
        document.getElementById("output").innerText = output;

        try {
            let img = pyodide.FS.readFile("plot.png", {encoding:"binary"});
            let blob = new Blob([img], {type:"image/png"});
            document.getElementById("plot").src = URL.createObjectURL(blob);
        } catch(e) { }

    } catch(err) {
        document.getElementById("output").innerText = err;
    }
}

function downloadPlot(format) {
    try {
        let file = pyodide.FS.readFile("plot." + format, {encoding:"binary"});
        let blob = new Blob([file], {type:"application/octet-stream"});
        let link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "plot." + format;
        link.click();
    } catch(err) {
        alert("Run the code first to generate the plot.");
    }
}
</script>

</body>
</html>
